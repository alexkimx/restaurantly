<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mapper.owner.restaurant">
	<resultMap type="restaurantVO" id="restaurantResult">
		<result property="restaurant_license" column="restaurant_license" />
		<result property="owner_id" column="owner_id" />
		<result property="restaurant_name" column="restaurant_name" />
		<result property="restaurant_phone" column="restaurant_phone" />
		<result property="restaurant_representative" column="restaurant_representative" />
		<result property="restaurant_detail" column="restaurant_detail" />
		<result property="restaurant_item" column="restaurant_item" />
		<result property="restaurant_introduction" column="restaurant_introduction" />
		<result property="restaurant_image_path" column="restaurant_image_path" />
	</resultMap>
	
	<resultMap type="menuVO" id="menuResult">
		<result property="menu_id" column="menu_id" />
		<result property="restaurant_license" column="restaurant_license" />
		<result property="menu_name" column="menu_name" />
		<result property="menu_category" column="menu_category" />
		<result property="menu_price" column="menu_price" />
		<result property="menu_image_path" column="menu_image_path" />
	</resultMap>
	
	<resultMap type="restaurantImageVO" id="imageResult">
		<result property="image_id" column="image_id" />
		<result property="restaurant_license" column="restaurant_license" />
		<result property="fileName" column="fileName" />
		<result property="fileType" column="fileType" />
		<result property="fileType" column="fileType" />
	</resultMap>
	
	<select id="selectRestaurant" parameterType="String" resultMap="restaurantResult">
		<![CDATA[
         select * from restaurant where owner_id = #{owner_id}
	    ]]>
	</select>
	
	<insert id="insertRestaurant" parameterType="restaurantVO">
	  <![CDATA[
	    	insert into restaurant(restaurant_license,
                              owner_id,
                              restaurant_name,
                              restaurant_phone,
                              restaurant_representative,
                              restaurant_detail,
                              restaurant_item,
                              restaurant_introduction,
                              restaurant_image_path)
					 values(#{restaurant_license},
							#{owner_id},
							#{restaurant_name},
                         	#{restaurant_phone},
                           	#{restaurant_representative},
                           	#{restaurant_detail},
                           	#{restaurant_item},
                           	#{restaurant_introduction},
                           	#{restaurant_image_path})
	   ]]>
	</insert>
	
	<select id="selectMenuList" parameterType="String" resultMap="menuResult">
		<![CDATA[
         select * from menu where restaurant_license=#{restaurant_license}
	    ]]>
	</select>
	
</mapper>